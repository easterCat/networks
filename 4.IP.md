## TCP/IP 协议栈

![网络层7](https://github.com/easterCat/networks/blob/master/img4/%E7%BD%91%E7%BB%9C%E5%B1%827.png?raw=true)

下层协议为上层协议服务

## IP 数据报格式

![网络层8](https://github.com/easterCat/networks/blob/master/img4/%E7%BD%91%E7%BB%9C%E5%B1%828.png?raw=true)
![网络层9](https://github.com/easterCat/networks/blob/master/img4/%E7%BD%91%E7%BB%9C%E5%B1%829.png?raw=true)

> 1Byte = 8bit

版本：IPv4/IPv6
首部长度：单位是 4B，最小是 5
区分服务：指示期望获得那种类型的服务
总长度：首部+数据，单位 1B
生存事件（TTL）：IP 分组的保质期。进过一个路由器就要减去-1，变为 0 则丢弃（防止分组无限在网络中徘徊）
协议：数据部分的协议
![网络层10](https://github.com/easterCat/networks/blob/master/img4/%E7%BD%91%E7%BB%9C%E5%B1%8210.png?raw=true)

> TCP 是面向连接服务，UDP 是不面向连接的服务
